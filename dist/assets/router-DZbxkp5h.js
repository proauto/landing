class h{constructor(){this.routes=new Map,this.currentRoute=null,this.initialized=!1}init(){this.initialized||(console.log("Router initialized with",this.routes.size,"routes"),window.addEventListener("popstate",t=>{this.handleRoute(window.location.pathname)}),console.log("Initial route:",window.location.pathname),this.handleRoute(window.location.pathname),this.initialized=!0)}addRoute(t,o){this.routes.set(t,o)}navigate(t){this.currentRoute!==t&&(history.pushState(null,"",t),this.handleRoute(t))}handleRoute(t){console.log("Handling route:",t);const o=t==="/"?"/home":t;let e=this.routes.get(o)||this.routes.get(t);if(!e&&t!=="/home"&&t!=="/")console.log("Route not found:",t,"Available routes:",Array.from(this.routes.keys())),e=this.routes.get("/home")||this.routes.get("/"),this.currentRoute="/home",history.replaceState(null,"","/home");else if(e)this.currentRoute=t;else{console.error("No home route found! Available routes:",Array.from(this.routes.keys()));return}e&&(this.renderComponent(e,this.currentRoute),this.updateNavigation(this.currentRoute))}renderComponent(t,o){const e=document.getElementById("main-content");e&&(e.innerHTML=t(),this.executeComponentScripts(o),this.updatePageMetadata(o))}updateNavigation(t){document.querySelectorAll(".nav-item").forEach(e=>{e.classList.remove("current-page");const i=e.getAttribute("data-path");(i===t||t==="/home"&&i==="/")&&e.classList.add("current-page")})}updatePageMetadata(t){const o={"/home":{title:"PreVIT - 아이디어를 서비스로",description:"아이디어로만 끝났던 일, 프레빗이 서비스로 만듭니다. 작고 사소하지만 꼭 필요했던 생각을 우리는 AI로 빠르게 구현합니다.",ogUrl:"https://previtlab.com"},"/brand":{title:"BRAND - PreVIT",description:"PreVIT LAB - Prepare Your Vision with IT",ogUrl:"https://previtlab.com/brand"},"/product":{title:"PRODUCT - PreVIT",description:"PreVIT의 제품 및 서비스",ogUrl:"https://previtlab.com/product"},"/blog":{title:"BLOG - PreVIT",description:"PreVIT의 블로그 - 운전, 임신출산 관련 유용한 정보와 팁",ogUrl:"https://previtlab.com/blog"}},e=o[t]||o["/home"];document.title=e.title,this.updateMetaTag("description",e.description),this.updateMetaTag("og:title",e.title,"property"),this.updateMetaTag("og:description",e.description,"property"),this.updateMetaTag("og:url",e.ogUrl,"property"),this.updateMetaTag("twitter:title",e.title),this.updateMetaTag("twitter:description",e.description)}updateMetaTag(t,o,e="name"){let i=document.querySelector(`meta[${e}="${t}"]`);i&&i.setAttribute("content",o)}executeComponentScripts(t){switch(t){case"/blog":this.initBlogScripts();break;case"/home":this.initHomeScripts();break}}initBlogScripts(){const t=document.getElementById("blogSearch"),o=document.querySelectorAll(".category-btn"),e=document.querySelectorAll(".blog-post"),i=document.getElementById("loadMoreBtn");if(!t)return;let r="all",a="";t.addEventListener("input",n=>{a=n.target.value.toLowerCase(),this.filterPosts(e,r,a)}),o.forEach(n=>{n.addEventListener("click",c=>{o.forEach(l=>l.classList.remove("active")),c.target.classList.add("active"),r=c.target.dataset.category,this.filterPosts(e,r,a)})}),i&&i.addEventListener("click",()=>{alert("더 많은 글을 불러오는 기능은 추후 구현 예정입니다.")})}filterPosts(t,o,e){t.forEach(i=>{var u,d;const r=i.dataset.category,a=((u=i.querySelector(".post-title"))==null?void 0:u.textContent.toLowerCase())||"",n=((d=i.querySelector(".post-excerpt"))==null?void 0:d.textContent.toLowerCase())||"",c=o==="all"||r===o,l=e===""||a.includes(e)||n.includes(e);c&&l?i.style.display="block":i.style.display="none"})}initHomeScripts(){document.querySelector(".contact-form")}}document.addEventListener("click",s=>{if(s.target.matches("a[data-path]")){s.preventDefault();const t=s.target.getAttribute("data-path");window.router&&window.router.navigate(t)}});export{h as default};
