class o{constructor(){this.routes=new Map,this.currentRoute=null,this.initialized=!1,this.setupClickListener()}init(){this.initialized||(window.addEventListener("popstate",()=>{this.handleRoute(window.location.pathname)}),this.handleRoute(window.location.pathname),this.initialized=!0)}addRoute(e,t){this.routes.set(e,t)}navigate(e){this.currentRoute!==e&&(history.pushState(null,"",e),this.handleRoute(e))}handleRoute(e){let t=e.replace(/\/index\.html$/,"/")||"/";t!=="/"&&t.endsWith("/")&&(t=t.slice(0,-1)),t.includes("/landing")&&(t=t.replace("/landing","")||"/");const n=this.routes.get(t)||this.routes.get("/");n&&(this.currentRoute=t,this.renderComponent(n),this.updateNavigation(t))}renderComponent(e){const t=document.getElementById("main-content");t?(t.innerHTML=e(),window.scrollTo(0,0)):console.warn("Main content container not found. This page might not support SPA rendering.")}updateNavigation(e){document.querySelectorAll(".nav-item").forEach(n=>{n.classList.remove("current-page");const i=n.getAttribute("data-path");(i===e||e==="/"&&i==="/")&&n.classList.add("current-page")})}setupClickListener(){document.addEventListener("click",e=>{let t=e.target;for(;t&&t!==document;){if(t.hasAttribute&&t.hasAttribute("data-path")){e.preventDefault();const n=t.getAttribute("data-path");this.navigate(n);return}t=t.parentElement}})}}export{o as default};
